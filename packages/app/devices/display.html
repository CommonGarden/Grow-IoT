<template name="Device.DisplayComponent">
	{{#if notFound }}
		{{> NotFoundComponent }}
	{{else}}	
		{{#if Template.subscriptionsReady}}
			<div class="row dashboard">
				<div class="col-lg-4 margin-right">
					{{#with device.thing}}
						<h2>{{name}}
							<span class="dropdown pull-right advanced-options">
				            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="glyphicon glyphicon-cog"></i><span class="caret"></span></a>
				            <ul class="dropdown-menu">
				              <!-- <li><a href="#" class="rename">Rename</a></li> -->
				              <!-- <li role="separator" class="divider"></li> -->
				              <li><a href="#" class="remove">Delete</a></li>
				            </ul>
				          </span>
			          	</h2>
						
						<p>{{description}}</p>

					{{/with}}

<!-- 					{{#if device.onlineSince }} -->

						{{#each device.thing.actions}}
							<p><button class="btn command" data-call="{{call}}" data-options="{{options}}">{{name}}</button></p>
						{{/each}}

						{{> Device.ActuatorListComponent}}
<!-- 
						{{#each device.thing.components}}
							<ul>
								{{> Device.Component type=type class=class}}
							</ul>
						{{/each}} -->

						<!-- Actuators -->
						<!-- {{> Device.ListComponent type="actuator"}} -->

<!-- 					{{else}}
						<p><em>Not Online.</em></p>
					{{/if}}
 -->
					<hr/>

					<!-- TODO: get events working again. -->
					{{#if eventLog}}
						<h4>Event log</h4>
						{{#each eventLog}}
							<p>{{event.name}}, {{event.timestamp}}</p>
						{{/each}}
					{{/if}}

				</div>

				<div class="col-lg-6 sensor-viz">
					{{> Device.SensorListComponent}}
					<!-- {{#if device.onlineSince }} -->
						<!-- {{> Component.ListComponent type="sensor"}} -->
					<!-- {{else}} -->
						<!-- <h4>Device offline</h4> -->
					<!-- {{/if}} -->
				</div>

			</div>
		{{else}}
			{{> LoaderComponent}}
		{{/if}}
	{{/if}}
</template>
